<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EXPO PT — Envie sua foto</title>

  <!-- Estilos (pode simplificar ainda mais para o desafio) -->
  <link rel="stylesheet" href="css/header.css" />
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/upload.css">

  <!-- Seu JS. O defer garante que o DOM já exista quando o script rodar -->
  <script src="scripts/script.js" defer></script>
</head>
<body>
  <header id="site-header" class="header">
    <div class="container header__wrap">
      <a class="brand" href="index.html">
        <img src="../foto1.webp" alt="Colégio Paulo de Tarso" class="logo" />
        <div class="brand__text">
          <strong>EXPO PT 2025</strong>
          <span>Colégio Paulo de Tarso</span>
        </div>
      </a>
      <nav class="nav" aria-label="Navegação principal">
        <a href="../index.html#convite" class="nav__link">Convite</a>
        <a href="../index.html#sobre" class="nav__link">Sobre</a>
        <a href="../index.html#tema" class="nav__link">Tema</a>
        <a href="../index.html#salas" class="nav__link">Salas</a>
        <a href="galeria.html" class="nav__link">Galeria</a>
            <a href="upload.html" class="nav__link">Upload</a>
      </nav>
    </div>
  </header>


  <main class="conteudo">
    <div class="cartao" role="region" aria-label="Formulário de envio de foto">
      <h2>Envie sua foto</h2>
      <p class="texto-suave">As imagens vão para a <strong>fila de moderação</strong>. Depois de aprovadas, entram no site.</p>

      <!-- IMPORTANTE: action = sua URL /exec do Apps Script -->
      <form id="formulario_envio" method="POST" action="https://script.google.com/macros/s/AKfycbzwDrNjnVw66XLvFgu2hsTZYzRllgq5WB7vITfLHELzrfTqSUGjJuTAjXkcwJfEcsYeVA/exec" target="janela_envio">
        <label for="arquivo">Selecione uma imagem (JPG, PNG, WEBP — até 10 MB)</label>
        <!-- NÃO coloque name no input de arquivo. O JS criará um hidden com a imagem em Base64. -->
        <input id="arquivo" type="file" accept="image/jpeg,image/png,image/webp" required />

        <div class="linha">
          <!-- Este sim tem name: o backend precisa confirmar consentimento=sim -->
          <input id="consentimento" name="consentimento" type="checkbox" value="sim" required />
          <label for="consentimento" class="sem-negrito">
            Autorizo o uso desta imagem nos canais da EXPO PT.
          </label>
        </div>

        <div class="acoes">
          <button id="botao_enviar" type="submit">Enviar foto</button>
          <span class="nota">Tamanho máximo: 10 MB • Formatos aceitos: JPG/PNG/WEBP</span>
        </div>

        <!-- Aqui o JS escreve mensagens de sucesso/erro -->
        <p id="mensagem" class="mensagem" aria-live="polite"></p>
      </form>

      <!-- A resposta do Apps Script carrega aqui sem sair da página -->
      <iframe name="janela_envio" style="display:none"></iframe>
    </div>
  </main>
  <script src="script/upload.js" defer></script>
</body>
</html>
