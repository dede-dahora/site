<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Página do Subtema — EXPO PT 2025</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="snow">
  <header class="header" id="site-header">
    <div class="container header__wrap">
      <a class="brand" href=index.html">
        <img src="foto1.webp" class="logo glow-ring" alt="Voltar para o índice" />
        <div class="brand__text">
          <strong>EXPO PT 2025</strong>
          <span>Página do Subtema</span>
        </div>
      </a>
      <nav class="nav" aria-label="Navegação principal">
        <a class="nav__link" href="#projeto">Projeto</a>
        <a class="nav__link" href="#conteudo">Conteúdo</a>
        <a class="nav__link" href="#galeria">Galeria</a>
        <a class="nav__link" href="#quiz">Quiz</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="section">
      <div class="container">
        <h1><span id="subtema">Subtema</span> — <small class="muted">Turma: <strong id="turma">—</strong></small></h1>
      </div>
    </section>

    <!-- PROJETO -->
    <section id="projeto" class="section">
      <div class="container">
        <div class="block glow-ring">
          <h2>Projeto</h2>
          <p><strong>Título:</strong> <span id="titulo-projeto">Definir título</span></p>
          <p class="muted" id="descricao-projeto">Descrição breve do que será apresentado (objetivo, justificativa, produtos finais).</p>
          <details class="people" open>
            <summary>Integrantes (editar conforme a turma)</summary>
            <ul id="integrantes" class="muted"><li>—</li></ul>
          </details>
        </div>
      </div>
    </section>

    <!-- CONTEÚDO -->
    <section id="conteudo" class="section">
      <div class="container">
        <div class="block">
          <h2>Texto / Dados</h2>
          <p>Use esta área para contextualizar o subtema com fatos, termos-chave e implicações no cotidiano.</p>
          <table class="table" role="table" aria-label="Indicadores">
            <tr><th>Indicador</th><th>Valor</th><th>Observação</th></tr>
            <tr><td>Temperatura média global</td><td>↑</td><td>Tendência de aumento</td></tr>
            <tr><td>Nível do mar</td><td>↑</td><td>Contribuição do derretimento de geleiras</td></tr>
            <tr><td>Água doce disponível</td><td>↓</td><td>Redução em regiões dependentes de geleiras</td></tr>
          </table>
        </div>

        <!-- Comparação antes/depois -->
        <div class="block">
          <h3>Comparação — Antes / Depois</h3>
          <div class="compare">
            <img src="" alt="Antes" style="background:linear-gradient(180deg,#214466,#0b2035);aspect-ratio:16/9">
            <img class="after" src="" alt="Depois" style="background:linear-gradient(180deg,#2b78a3,#123052);aspect-ratio:16/9">
            <span class="label">Antes</span><span class="label right">Depois</span>
            <input type="range" min="0" max="100" value="50" aria-label="Controle de comparação">
          </div>
        </div>
      </div>
    </section>

    <!-- GALERIA -->
    <section id="galeria" class="section">
      <div class="container">
        <div class="block">
          <h2>Mini-galeria</h2>
          <div class="gallery">
            <div class="ph">Imagem 1</div>
            <div class="ph">Imagem 2</div>
            <div class="ph">Imagem 3</div>
            <div class="ph">Imagem 4</div>
          </div>
        </div>
      </div>
    </section>

    <!-- QUIZ -->
    <section id="quiz" class="section">
      <div class="container">
        <div class="block quiz">
          <h2>Quiz rápido</h2>
          <form id="form-quiz">
            <p class="question">O derretimento de geleiras pode elevar o nível do mar?</p>
            <label><input type="radio" name="q1" value="sim"> Sim</label>
            <label><input type="radio" name="q1" value="nao"> Não</label><br><br>
            <button class="btn" type="submit">Ver resultado</button>
            <p id="resultado" class="result muted" role="status" aria-live="polite"></p>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container footer__wrap">
      <p><strong>EXPO PT 2025 — Colégio Paulo de Tarso</strong> · 2025 - Isabele F.Lemos</p>
      <a class="to-top" href="#top" aria-label="Voltar ao topo">↑</a>
    </div>
  </footer>

  <!-- Camada de gelo (canvas) -->
  <canvas id="iceLayer" aria-hidden="true"></canvas>

  <!-- Interações -->
  <script>
    // Header reativo (sombra ao rolar)
    const header = document.getElementById('site-header') || document.querySelector('.header');
    const onScroll = () => header?.classList.toggle('header--scrolled', window.scrollY > 8);
    addEventListener('scroll', onScroll, { passive: true }); onScroll();

    // Ripple nos botões (usa --x e --y do CSS)
    addEventListener('pointerdown', e => {
      const t = e.target.closest('.btn'); if (!t) return;
      const r = t.getBoundingClientRect();
      t.style.setProperty('--x', (e.clientX - r.left) + 'px');
      t.style.setProperty('--y', (e.clientY - r.top) + 'px');
    });

    // Preenche turma/subtema via querystring
    const p = new URLSearchParams(location.search);
    const turma = p.get('turma') || '—';
    const subtema = p.get('subtema') || 'Subtema';
    document.getElementById('turma').textContent = turma;
    document.getElementById('subtema').textContent = subtema;

    // Compare slider (clip da imagem "after")
    const comp = document.querySelector('.compare');
    const after = comp?.querySelector('.after');
    const range = comp?.querySelector('input[type="range"]');
    range?.addEventListener('input', (ev) => {
      const v = ev.target.value;
      after.style.clipPath = `inset(0 ${100 - v}% 0 0)`;
    });

    // Quiz
    const form = document.getElementById('form-quiz');
    const res  = document.getElementById('resultado');
    form?.addEventListener('submit', (e) => {
      e.preventDefault();
      const ok = new FormData(form).get('q1') === 'sim';
      res.textContent = ok ? 'Correto! O nível do mar pode subir com o derretimento de geleiras.'
                           : 'Ops! Reveja o conteúdo: o nível do mar pode subir.';
      res.className = 'result ' + (ok ? 'ok' : 'bad');
    });
  </script>
  <!-- efeito de gelo (seu arquivo externo; agora usa <canvas id="iceLayer">) -->
  <script src="../js/icefall.js"></script>
</body>
</html>
